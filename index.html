<!DOCTYPE html>
<html lang="pt">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Acompanhamento - Treino Otimizado V2.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .form-content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
            border: 2px solid #f1f3f4;
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s ease;
        }
        
        .section:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }
        
        .section-title {
            color: #2c3e50;
            font-size: 1.4rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title::before {
            content: "💪";
            font-size: 1.2rem;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #34495e;
            font-size: 0.95rem;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #fafbfc;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .exercise-block {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
            position: relative;
        }
        
        .exercise-name {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .exercise-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-pending { background: #ffeaa7; color: #d63031; }
        .status-active { background: #74b9ff; color: white; }
        .status-completed { background: #00b894; color: white; }
        
        .sets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .set-input-group {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
        }
        
        .set-label {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        .set-input {
            width: 100%;
            border: 1px solid #eee;
            border-radius: 4px;
            padding: 5px;
            text-align: center;
            font-size: 0.9rem;
            margin-bottom: 3px;
        }
        
        .exercise-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-start {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
        }
        
        .btn-complete {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
        }
        
        .btn-pain {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .pain-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .pain-modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            border: none;
            background: none;
        }
        
        .pain-options {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }
        
        .pain-option {
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #fafbfc;
        }
        
        .pain-option:hover {
            border-color: #667eea;
            background: white;
        }
        
        .pain-option.good-pain {
            border-color: #00b894;
            background: #f0fff4;
        }
        
        .pain-option.bad-pain {
            border-color: #e17055;
            background: #fff5f5;
        }
        
        .pain-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .pain-description {
            font-size: 0.9rem;
            color: #636e72;
        }
        
        .feedback-panel {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
            display: none;
        }
        
        .feedback-good {
            border-left-color: #00b894;
            background: #f0fff4;
        }
        
        .feedback-bad {
            border-left-color: #e17055;
            background: #fff5f5;
        }
        
        .workout-day {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 10px;
            font-weight: bold;
            text-align: center;
            font-size: 1.2rem;
        }
        
        .rating-scale {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 10px 0;
            flex-wrap: wrap;
        }
        
        .rating-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #ddd;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .rating-btn:hover, .rating-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: scale(1.1);
        }

        .correction-text {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 10px;
            margin-top: 10px;
            font-size: 0.9rem;
            white-space: pre-line;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .sets-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .exercise-controls {
                flex-direction: column;
            }
            
            .pain-modal-content {
                margin: 20px;
                max-width: calc(100% - 40px);
            }
            
            .rating-scale {
                justify-content: flex-start;
            }
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏋️ Formulário de Acompanhamento</h1>
            <p>Plano de Treino Otimizado V2.0 - Monitoramento em Tempo Real</p>
        </div>
        
        <div class="form-content">
            <form id="workoutForm">
                
                <div class="section">
                    <div class="section-title">📊 Informações Gerais da Sessão</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="date">Data do Treino:</label>
                            <input type="date" id="date" name="date" required="">
                        </div>
                        <div class="form-group">
                            <label for="workoutDay">Dia de Treino:</label>
                            <select id="workoutDay" name="workoutDay" required="">
                                <option value="">Selecione...</option>
                                <option value="segunda">Segunda - Peito/Tríceps</option>
                                <option value="terca">Terça - Costas/Bíceps</option>
                                <option value="quarta">Quarta - Recovery Ativo</option>
                                <option value="quinta">Quinta - Pernas Completas</option>
                                <option value="sexta">Sexta - Ombros/Trapézios</option>
                                <option value="sabado">Sábado - Braços Especialização</option>
                                <option value="domingo">Domingo - Conditioning</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="startTime">Hora de Início:</label>
                            <input type="time" id="startTime" name="startTime">
                        </div>
                        <div class="form-group">
                            <label for="endTime">Hora de Término:</label>
                            <input type="time" id="endTime" name="endTime">
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">⚡ Estado Pré-Treino</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Nível de Energia (1-10):</label>
                            <div class="rating-scale" id="energyRating">
                                <button type="button" class="rating-btn" data-rating="energy" data-value="1">1</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="2">2</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="3">3</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="4">4</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="5">5</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="6">6</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="7">7</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="8">8</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="9">9</button>
                                <button type="button" class="rating-btn" data-rating="energy" data-value="10">10</button>
                            </div>
                            <input type="hidden" name="energyLevel" id="energyLevel">
                        </div>
                        <div class="form-group">
                            <label for="sleep">Horas de Sono:</label>
                            <input type="number" id="sleep" name="sleep" min="0" max="12" step="0.5" placeholder="Ex: 7.5">
                        </div>
                    </div>
                </div>

                <div class="section" id="exerciseSection">
                    <div class="section-title">💪 Exercícios - Monitoramento em Tempo Real</div>
                    <div id="exerciseContainer"><div class="workout-day">Treino de Segunda-feira</div>
                <div class="exercise-block" id="exercise_0">
                    <div class="exercise-name">
                        <span>Barbell Bench Press (4x6-8 @ 35-40kg (Prog. 42-47kg))</span>
                        <span class="exercise-status status-pending" id="status_0">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_0_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_0_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_0_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_0_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_0_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_0_set_3_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 4</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_0_set_4_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_0_set_4_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(0)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(0)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(0)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_1">
                    <div class="exercise-name">
                        <span>Dumbbell Incline Press (4x8-10 @ 15kg (Prog. 17.5-20kg))</span>
                        <span class="exercise-status status-pending" id="status_1">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_1_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_1_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_1_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_1_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_1_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_1_set_3_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 4</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_1_set_4_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_1_set_4_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(1)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(1)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(1)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_2">
                    <div class="exercise-name">
                        <span>Machine Bench Press (4x10-12 @ 32kg)</span>
                        <span class="exercise-status status-pending" id="status_2">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_2_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_2_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_2_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_2_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_2_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_2_set_3_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 4</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_2_set_4_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_2_set_4_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(2)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(2)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(2)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_3">
                    <div class="exercise-name">
                        <span>Dips (3x8-12 @ Bodyweight)</span>
                        <span class="exercise-status status-pending" id="status_3">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_3_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_3_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_3_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_3_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_3_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_3_set_3_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(3)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(3)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(3)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_4">
                    <div class="exercise-name">
                        <span>Dumbbell Fly (3x12-15 @ 12.5kg)</span>
                        <span class="exercise-status status-pending" id="status_4">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_4_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_4_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_4_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_4_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_4_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_4_set_3_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(4)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(4)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(4)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_5">
                    <div class="exercise-name">
                        <span>Close-Grip Bench Press (3x8-10 @ Varia (compound tríceps))</span>
                        <span class="exercise-status status-pending" id="status_5">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_5_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_5_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_5_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_5_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_5_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_5_set_3_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(5)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(5)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(5)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_6">
                    <div class="exercise-name">
                        <span>Cable Tricep Pushdown (3x10-12 @ 14kg (base))</span>
                        <span class="exercise-status status-pending" id="status_6">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_6_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_6_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_6_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_6_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_6_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_6_set_3_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(6)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(6)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(6)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_7">
                    <div class="exercise-name">
                        <span>Cable Rope Overhead Extension (3x10-12 (12kgx12, 14kgx10, 16kgx8) @ 12kg (prog.))</span>
                        <span class="exercise-status status-pending" id="status_7">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_7_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_7_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_7_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_7_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_7_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_7_set_3_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(7)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(7)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(7)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_8">
                    <div class="exercise-name">
                        <span>Machine Ab Crunch (3x15-20 @ 30kg)</span>
                        <span class="exercise-status status-pending" id="status_8">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_8_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_8_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_8_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_8_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_8_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_8_set_3_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(8)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(8)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(8)">Concluir Exercício</button>
                    </div>
                </div>
            
                <div class="exercise-block" id="exercise_9">
                    <div class="exercise-name">
                        <span>Plank (3x60s @ Bodyweight)</span>
                        <span class="exercise-status status-pending" id="status_9">Pendente</span>
                    </div>
                    <div class="sets-grid">
                        
                        <div class="set-input-group">
                            <div class="set-label">Série 1</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_9_set_1_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_9_set_1_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 2</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_9_set_2_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_9_set_2_reps">
                        </div>
                    
                        <div class="set-input-group">
                            <div class="set-label">Série 3</div>
                            <input type="number" class="set-input" placeholder="Peso" name="exercise_9_set_3_weight">
                            <input type="number" class="set-input" placeholder="Reps" name="exercise_9_set_3_reps">
                        </div>
                    
                    </div>
                    <div class="exercise-controls">
                        <button type="button" class="btn btn-start" onclick="startExercise(9)">Iniciar</button>
                        <button type="button" class="btn btn-pain" onclick="openPainModal(9)">Dor/Desconforto</button>
                        <button type="button" class="btn btn-complete" onclick="completeExercise(9)">Concluir Exercício</button>
                    </div>
                </div>
            </div>
                </div>

                <div class="section">
                    <div class="section-title">📈 Avaliação Final</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Satisfação com Performance (1-10):</label>
                            <div class="rating-scale" id="satisfactionRating">
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="1">1</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="2">2</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="3">3</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="4">4</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="5">5</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="6">6</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="7">7</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="8">8</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="9">9</button>
                                <button type="button" class="rating-btn" data-rating="satisfaction" data-value="10">10</button>
                            </div>
                            <input type="hidden" name="satisfactionLevel" id="satisfactionLevel">
                        </div>
                        <div class="form-group">
                            <label for="progressions">Progressões Alcançadas:</label>
                            <textarea id="progressions" name="progressions" rows="3" placeholder="Ex: Aumentei 2.5kg no supino, consegui fazer 8 reps..."></textarea>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">📝 Observações Gerais</div>
                    <div class="form-group">
                        <label for="generalNotes">Notas Adicionais:</label>
                        <textarea id="generalNotes" name="generalNotes" rows="4" placeholder="Qualquer observação adicional sobre o treino..."></textarea>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 40px; display: flex; justify-content: center; gap: 20px;">
                    <button type="button" class="btn btn-complete" onclick="saveWorkout()">💾 Salvar Treino Completo</button>
                    <button type="button" class="btn btn-start" onclick="downloadPdf()">⬇️ Baixar PDF</button>
                </div>
            </form>
        </div>
    </div>

    <div id="painModal" class="pain-modal">
        <div class="pain-modal-content">
            <button class="close-modal" onclick="closePainModal()">×</button>
            <h2 id="modalTitle">🩺 Avaliação de Desconforto</h2>
            <p id="modalExercise" style="color: #666; margin-bottom: 20px;"></p>
            
            <div class="pain-options" id="painOptions">
                </div>
            
            <div id="feedbackPanel" class="feedback-panel">
                <h4 id="feedbackTitle"></h4>
                <p id="feedbackMessage"></p>
                <div id="feedbackActions"></div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-complete" onclick="closePainModal()">Continuar Treino</button>
            </div>
        </div>
    </div>

    <script>
        // Variáveis globais
        let currentExercise = null;
        let workoutData = {};

        // Dados completos dos exercícios por dia
        const workoutExercises = {
            segunda: [
                {
                    name: "Barbell Bench Press",
                    sets: "4x6-8",
                    currentWeight: "35-40kg (Prog. 42-47kg)",
                    painTypes: {
                        good: [
                            { title: "Tensão no peitoral", desc: "Sensação de trabalho muscular no peito", feedback: "Perfeito! Esta tensão indica que está a ativar corretamente o peitoral. Continue com a técnica atual." },
                            { title: "Leve queimação nos músculos", desc: "Sensação de fadiga muscular progressiva", feedback: "Excelente! A queimação muscular é sinal de que está a trabalhar na intensidade correta." }
                        ],
                        bad: [
                            { title: "Dor aguda no ombro", desc: "Dor intensa ou em forma de pontada no ombro", feedback: "PARE IMEDIATAMENTE! Verifique a pegada - deve estar ligeiramente mais larga que os ombros. Desça a barra de forma controlada apenas até ao peito.", correction: "• Ajuste a pegada\n• Mantenha omoplatas retraídas\n• Não desça demasiado a barra" },
                            { title: "Dor no punho", desc: "Desconforto ou dor nos punhos", feedback: "Ajuste necessário! A pegada pode estar incorreta.", correction: "• Mantenha punhos neutros\n• Distribua o peso na palma da mão\n• Use munhequeiras se necessário" },
                            { title: "Dor na zona lombar", desc: "Tensão excessiva ou dor nas costas", feedback: "Atenção à postura! Pode estar a arquear demasiado as costas.", correction: "• Mantenha pés no chão\n• Core contraído\n• Ligeiro arco natural nas costas" }
                        ]
                    }
                },
                {
                    name: "Dumbbell Incline Press",
                    sets: "4x8-10",
                    currentWeight: "15kg (Prog. 17.5-20kg)",
                    painTypes: {
                        good: [
                            { title: "Tensão na parte superior do peito", desc: "Sensação de trabalho no peitoral superior", feedback: "Perfeito! O incline press está a trabalhar corretamente o peitoral superior." },
                            { title: "Sensação de 'pump'", desc: "Sensação de músculo 'inchado' no peito", feedback: "Excelente! O pump é sinal de boa irrigação sanguínea e trabalho muscular eficaz." }
                        ],
                        bad: [
                            { title: "Dor no ombro anterior", desc: "Dor na frente do ombro durante o movimento", feedback: "CUIDADO! Pode estar a descer demasiado os halteres.", correction: "• Desça apenas até sentir alongamento no peito\n• Mantenha cotovelos ligeiramente para dentro\n• Não force a amplitude" },
                            { title: "Tensão excessiva no pescoço", desc: "Rigidez ou dor no pescoço", feedback: "Ajuste a posição da cabeça!", correction: "• Mantenha cabeça encostada ao banco\n• Olhar direcionado ao teto\n• Relaxe ombros e pescoço" }
                        ]
                    }
                },
                {
                    name: "Machine Bench Press",
                    sets: "4x10-12",
                    currentWeight: "32kg",
                    painTypes: {
                        good: [{ title: "Tensão uniforme no peitoral", desc: "Trabalho equilibrado em todo o peito", feedback: "Ótimo! A máquina proporciona um trabalho seguro e eficaz." }],
                        bad: [{ title: "Dor na articulação do ombro", desc: "Desconforto articular durante o movimento", feedback: "Verifique o posicionamento!", correction: "• Ajuste altura do assento\n• Mantenha omoplatas encostadas\n• Não estenda completamente os braços" }]
                    }
                },
                {
                    name: "Dips",
                    sets: "3x8-12",
                    currentWeight: "Bodyweight",
                    painTypes: {
                        good: [{ title: "Tensão no peitoral e tríceps", desc: "Trabalho muscular em peito e tríceps", feedback: "Perfeito! Os dips são excelentes para desenvolver força funcional." }],
                        bad: [{ title: "Dor aguda no ombro", desc: "Dor intensa na articulação do ombro", feedback: "PARE! Pode estar a descer demasiado.", correction: "• Desça apenas até 90° nos cotovelos\n• Mantenha corpo ligeiramente inclinado\n• Use assistência se necessário" }]
                    }
                },
                {
                    name: "Dumbbell Fly",
                    sets: "3x12-15",
                    currentWeight: "12.5kg",
                    painTypes: {
                        good: [{ title: "Squeeze no peito", desc: "Contração máxima no topo do movimento", feedback: "Excelente! Foco na contração é fundamental para o Fly." }],
                        bad: [{ title: "Dor no ombro/articulação", desc: "Desconforto na articulação durante o alongamento", feedback: "Cuidado com a amplitude!", correction: "• Não desça os halteres demasiado\n• Mantenha cotovelos ligeiramente flexionados" }]
                    }
                },
                {
                    name: "Close-Grip Bench Press",
                    sets: "3x8-10",
                    currentWeight: "Varia (compound tríceps)",
                    painTypes: {
                        good: [{ title: "Tensão forte no tríceps", desc: "Foco na ativação do tríceps", feedback: "Ótimo! Excelente para isolar o tríceps." }],
                        bad: [{ title: "Dor no punho/cotovelo", desc: "Desconforto nas articulações do braço", feedback: "Ajuste a pegada/amplitude!", correction: "• Mantenha punhos neutros\n• Não tranque os cotovelos no topo\n• Use um peso controlado" }]
                    }
                },
                {
                    name: "Cable Tricep Pushdown",
                    sets: "3x10-12",
                    currentWeight: "14kg (base)",
                    painTypes: {
                        good: [{ title: "Pump no tríceps", desc: "Sensação de inchaço muscular", feedback: "Perfeito! Indicativo de bom volume de trabalho." }],
                        bad: [{ title: "Dor no cotovelo", desc: "Desconforto na articulação do cotovelo", feedback: "Pode estar a usar demasiado peso ou técnica incorreta.", correction: "• Reduza o peso\n• Mantenha cotovelos fixos\n• Não estenda completamente os braços" }]
                    }
                },
                {
                    name: "Cable Rope Overhead Extension",
                    sets: "3x10-12 (12kgx12, 14kgx10, 16kgx8)",
                    currentWeight: "12kg (prog.)",
                    painTypes: {
                        good: [{ title: "Queimação no tríceps", desc: "Fadiga progressiva no tríceps", feedback: "Ótimo para o desenvolvimento da cabeça longa do tríceps." }],
                        bad: [{ title: "Dor no ombro (elevação)", desc: "Desconforto ao levantar o braço", feedback: "Cuidado com a posição do cotovelo!", correction: "• Mantenha os cotovelos mais próximos da cabeça\n• Use um peso que permita controle total" }]
                    }
                },
                {
                    name: "Machine Ab Crunch",
                    sets: "3x15-20",
                    currentWeight: "30kg",
                    painTypes: {
                        good: [{ title: "Queimação abdominal", desc: "Sensação de trabalho no core", feedback: "Excelente! Continue a focar na contração." }],
                        bad: [{ title: "Dor no pescoço/lombar", desc: "Tensão ou dor fora dos abdominais", feedback: "Ajuste a postura!", correction: "• Mantenha o pescoço neutro\n• Concentre a força no abdómen\n• Não force a flexão da coluna" }]
                    }
                },
                {
                    name: "Plank",
                    sets: "3x60s",
                    currentWeight: "Bodyweight",
                    painTypes: {
                        good: [{ title: "Tensão abdominal", desc: "Contração sustentada no core", feedback: "Perfeito! Sinal de boa ativação do core." }],
                        bad: [{ title: "Dor lombar", desc: "Curvatura excessiva da lombar", feedback: "Ajuste a posição!", correction: "• Mantenha o corpo reto\n• Contraia glúteos e abdominais\n• Não deixe o quadril cair" }]
                    }
                }
            ],
            terca: [
                {
                    name: "Deadlifts",
                    sets: "4x6-8",
                    currentWeight: "40kg (Prog. 50-60kg)",
                    painTypes: {
                        good: [{ title: "Tensão nos Isquiotibiais e Glúteos", desc: "Sensação de alongamento e trabalho na parte posterior da coxa e glúteos", feedback: "Ótimo! Isso indica boa ativação da cadeia posterior, fundamental para o Deadlift." }],
                        bad: [{ title: "Dor na Lombar (aguda)", desc: "Dor pontual e intensa na parte inferior das costas", feedback: "PARE IMEDIATAMENTE! A dor lombar aguda pode ser um sinal de má forma ou sobrecarga. Concentre-se em manter a coluna neutra.", correction: "• Mantenha as costas retas, não curve\n• Comece o movimento pelo quadril (quadril para trás)\n• Mantenha o core bem contraído" }]
                    }
                },
                {
                    name: "Pull-ups (ou Lat Pulldown)",
                    sets: "4x8-12",
                    currentWeight: "Bodyweight (Prog. +2.5-5kg) / 45kg",
                    painTypes: {
                        good: [{ title: "Queimação nas Costas e Bíceps", desc: "Sensação de fadiga nos músculos das costas e nos bíceps", feedback: "Excelente! Isso indica que você está trabalhando os grupos musculares corretos de forma eficaz." }],
                        bad: [{ title: "Dor nos Ombros", desc: "Desconforto ou dor na articulação dos ombros", feedback: "Atenção à amplitude e forma! Pode estar a sobrecarregar os ombros.", correction: "• Não desça completamente na fase excêntrica\n• Mantenha os ombros 'para baixo e para trás'\n• Se usar máquina, ajuste o assento para uma boa posição" }]
                    }
                },
                {
                    name: "Seated Cable Row",
                    sets: "3x10-12",
                    currentWeight: "35kg",
                    painTypes: {
                        good: [{ title: "Contração forte nas Costas (meio)", desc: "Sensação de esmagamento no meio das costas ao puxar", feedback: "Perfeito! Foco na contração escapular é chave para este exercício." }],
                        bad: [{ title: "Tensão no Pescoço/Trapézio", desc: "Rigidez ou dor na região do pescoço e trapézio", feedback: "Relaxe o pescoço! Pode estar a encolher os ombros.", correction: "• Mantenha ombros relaxados, longe das orelhas\n• Foque na puxada com as costas, não com os braços/pescoço" }]
                    }
                },
                {
                    name: "Face Pull",
                    sets: "3x15-20",
                    currentWeight: "15kg",
                    painTypes: {
                        good: [{ title: "Ativação da Parte Superior das Costas e Rotação Externa", desc: "Sensação de trabalho nos ombros posteriores e na parte superior das costas", feedback: "Ótimo! Essencial para a saúde do ombro e postura." }],
                        bad: [{ title: "Dor na Articulação do Ombro", desc: "Desconforto articular ao puxar a corda", feedback: "Verifique a pegada e a rotação!", correction: "• Use pegada neutra ou supinada na corda\n• Não force a rotação, movimento controlado" }]
                    }
                },
                {
                    name: "Barbell Curl",
                    sets: "3x8-10",
                    currentWeight: "20kg (Prog. 22.5kg)",
                    painTypes: {
                        good: [{ title: "Pump nos Bíceps", desc: "Sensação de inchaço e plenitude nos bíceps", feedback: "Excelente! Indica bom recrutamento muscular e volume de trabalho." }],
                        bad: [{ title: "Dor no Cotovelo/Punho", desc: "Desconforto ou dor nas articulações do cotovelo ou punho", feedback: "Ajuste a pegada e o peso!", correction: "• Mantenha punhos neutros (sem dobrar)\n• Não balance o corpo para levantar o peso\n• Considere usar barra EZ para menos estresse" }]
                    }
                },
                {
                    name: "Dumbbell Hammer Curl",
                    sets: "3x10-12",
                    currentWeight: "10kg (Prog. 12.5kg)",
                    painTypes: {
                        good: [{ title: "Queimação no Braquial/Antebraço", desc: "Fadiga nos músculos do braço e antebraço", feedback: "Perfeito! Ótimo para o desenvolvimento da espessura do braço." }],
                        bad: [{ title: "Dor no Ombro", desc: "Desconforto ao levantar os halteres", feedback: "Pode estar a usar demasiado impulso ou peso.", correction: "• Mantenha ombros fixos, sem balançar\n• Controle o movimento de subida e descida" }]
                    }
                },
                {
                    name: "Hyperextensions (Back Extensions)",
                    sets: "3x12-15",
                    currentWeight: "Bodyweight",
                    painTypes: {
                        good: [{ title: "Tensão na Lombar e Glúteos", desc: "Sensação de trabalho na parte inferior das costas e nádegas", feedback: "Ótimo para fortalecer a cadeia posterior de forma segura." }],
                        bad: [{ title: "Dor na Lombar (compressão)", desc: "Sensação de pressão ou dor aguda na lombar", feedback: "NÃO HIPERESTENDA! Concentre-se no movimento do quadril.", correction: "• Não estenda a coluna para além da linha reta do corpo\n• Mantenha o movimento controlado e lento\n• Contraia glúteos no topo" }]
                    }
                }
            ]
            // ... (continuar com os outros dias de treino se existirem)
        };

        // Funções de controle de estado e modal de dor (mantidas do seu código original)
        function startExercise(index) {
            document.getElementById(`status_${index}`).innerText = 'Em Progresso';
            document.getElementById(`status_${index}`).className = 'exercise-status status-active';
        }

        function completeExercise(index) {
            document.getElementById(`status_${index}`).innerText = 'Concluído';
            document.getElementById(`status_${index}`).className = 'exercise-status status-completed';
        }

        function openPainModal(index) {
            currentExercise = index;
            const exerciseName = document.querySelector(`#exercise_${index} .exercise-name span:first-child`).innerText;
            const workoutDay = document.getElementById('workoutDay').value;
            const exerciseData = workoutExercises[workoutDay][index];

            document.getElementById('modalTitle').innerText = `🩺 Avaliação de Desconforto - ${exerciseData.name}`;
            document.getElementById('modalExercise').innerText = `Exercício: ${exerciseData.name}`;

            const painOptionsDiv = document.getElementById('painOptions');
            painOptionsDiv.innerHTML = ''; // Limpar opções anteriores

            if (exerciseData && exerciseData.painTypes) {
                // Good Pain
                if (exerciseData.painTypes.good) {
                    exerciseData.painTypes.good.forEach(pain => {
                        const option = document.createElement('div');
                        option.className = 'pain-option good-pain';
                        option.innerHTML = `
                            <div class="pain-title">${pain.title}</div>
                            <div class="pain-description">${pain.desc}</div>
                        `;
                        option.onclick = () => showFeedback(pain.feedback, 'good', pain.correction);
                        painOptionsDiv.appendChild(option);
                    });
                }
                // Bad Pain
                if (exerciseData.painTypes.bad) {
                    exerciseData.painTypes.bad.forEach(pain => {
                        const option = document.createElement('div');
                        option.className = 'pain-option bad-pain';
                        option.innerHTML = `
                            <div class="pain-title">${pain.title}</div>
                            <div class="pain-description">${pain.desc}</div>
                        `;
                        option.onclick = () => showFeedback(pain.feedback, 'bad', pain.correction);
                        painOptionsDiv.appendChild(option);
                    });
                }
            } else {
                painOptionsDiv.innerHTML = '<p>Nenhuma opção de dor disponível para este exercício.</p>';
            }

            document.getElementById('painModal').style.display = 'flex';
        }

        function closePainModal() {
            document.getElementById('painModal').style.display = 'none';
            document.getElementById('feedbackPanel').style.display = 'none'; // Esconder o painel de feedback
        }

        function showFeedback(message, type, correction = null) {
            const feedbackPanel = document.getElementById('feedbackPanel');
            const feedbackTitle = document.getElementById('feedbackTitle');
            const feedbackMessage = document.getElementById('feedbackMessage');
            const feedbackActions = document.getElementById('feedbackActions');

            feedbackTitle.innerText = type === 'good' ? '✅ Feedback Positivo' : '⚠️ Atenção Necessária';
            feedbackMessage.innerText = message;
            feedbackActions.innerHTML = ''; // Clear previous actions

            if (correction) {
                const correctionText = document.createElement('div');
                correctionText.className = 'correction-text';
                correctionText.innerText = `Sugestões de Correção:\n${correction}`;
                feedbackActions.appendChild(correctionText);
            }

            feedbackPanel.className = `feedback-panel feedback-${type}`;
            feedbackPanel.style.display = 'block';
        }


        // Lógica para os botões de avaliação (energia, satisfação)
        document.querySelectorAll('.rating-scale .rating-btn').forEach(button => {
            button.addEventListener('click', function() {
                const ratingType = this.dataset.rating; // 'energy' or 'satisfaction'
                const value = this.dataset.value;

                // Remover 'active' de todos os botões do mesmo tipo
                document.querySelectorAll(`.rating-scale[id="${ratingType}Rating"] .rating-btn`).forEach(btn => {
                    btn.classList.remove('active');
                });

                // Adicionar 'active' ao botão clicado
                this.classList.add('active');

                // Atualizar o input hidden correspondente
                document.getElementById(`${ratingType}Level`).value = value;
            });
        });

        // Função para salvar o treino (mantida do seu código original)
        function saveWorkout() {
            const formData = new FormData(document.getElementById('workoutForm'));
            workoutData = {};

            // Coletar informações gerais
            workoutData.general = {
                date: formData.get('date'),
                workoutDay: formData.get('workoutDay'),
                startTime: formData.get('startTime'),
                endTime: formData.get('endTime')
            };

            // Coletar estado pré-treino
            workoutData.preWorkout = {
                energyLevel: formData.get('energyLevel'),
                sleep: formData.get('sleep')
            };

            // Coletar dados dos exercícios
            workoutData.exercises = [];
            const exerciseBlocks = document.querySelectorAll('.exercise-block');
            exerciseBlocks.forEach((block, index) => {
                const exerciseName = block.querySelector('.exercise-name span:first-child').innerText;
                const exerciseStatus = block.querySelector('.exercise-status').innerText;
                
                const exerciseBlockData = {
                    name: exerciseName,
                    status: exerciseStatus,
                    sets: []
                };

                // Verificar se é um exercício com séries de peso/reps ou descritivo
                const firstSetWeightInput = formData.get(`exercise_${index}_set_1_weight`);
                if (firstSetWeightInput !== null) { // Assume if first weight input exists, it's a reps/weight exercise
                    // Coletar séries de peso/reps
                    for (let i = 1; ; i++) {
                        const weight = formData.get(`exercise_${index}_set_${i}_weight`);
                        const reps = formData.get(`exercise_${index}_set_${i}_reps`);
                        if (weight === null && reps === null) break; // No more sets

                        exerciseBlockData.sets.push({
                            set: i,
                            weight: weight ? parseFloat(weight) : null,
                            reps: reps ? parseInt(reps) : null
                        });
                    }
                } else { // For descriptive sets, just store notes
                     const notes = formData.get(`exercise_${index}_set_1_notes`);
                     exerciseBlockData.sets.push({
                        set: 1, // Treat as one descriptive set
                        notes: notes
                    });
                }
                workoutData.exercises.push(exerciseBlockData);
            });

            // Coletar avaliação pós-treino
            workoutData.postWorkout = {
                satisfactionLevel: formData.get('satisfactionLevel'),
                progressions: formData.get('progressions')
            };

            // Coletar observações gerais
            workoutData.notes = formData.get('generalNotes');

            console.log("Dados do Treino Salvos:", workoutData);
            alert("Treino salvo com sucesso! Veja os dados no console do navegador (F12).");

            // Aqui você enviaria 'workoutData' para um servidor ou salvaria localmente
            // Exemplo de como salvar no localStorage (para fins de demonstração)
            // localStorage.setItem('lastWorkoutData', JSON.stringify(workoutData));
        }

        // Nova função para baixar o PDF
        function downloadPdf() {
            const element = document.querySelector('.form-content'); // Seleciona o conteúdo do formulário para o PDF
            const opt = {
                margin: 1,
                filename: 'resumo_treino.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, scrollY: 0 }, // scrollY: 0 para evitar quebra de página no meio
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };

            html2pdf().set(opt).from(element).save();
        }

    </script>


</body></html>
